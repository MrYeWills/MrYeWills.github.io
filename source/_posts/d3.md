---
title: d3学习笔记
date: {{ date }}
tags: [d3.js]
categories: 
- 前端
series: 前端
---


## 基本套路
下面代码都基于以下代码：
```
 var svg = d3.select("body")
                 .append('svg')
                 .attr('width', 800)
                 .attr('height', 800);
```
### 渲染一
```
    var new_circle = svg.append('circle')
                .attr('cx', 250)
                .attr('cy', 50)
                .attr('r', 25)
                .attr('fill', 'yellow')
```
效果：
![](/image/d3/circle1.jpg)
在上面的代码上增加：
```
var data = [10];
    var new_circle = svg.selectAll('circle')
            .data(data)
            .attr('cx', 250)
            .attr('cy', 100)
            .attr('fill', 'red')
            .attr('r', 25)
```
效果：
![](/image/d3/circle2.jpg)

增加一个数据，使用enter来更新：
```
    var new_circle = svg.append('circle')
                .attr('cx', 250)
                .attr('cy', 50)
                .attr('r', 25)
                .attr('fill', 'blue')
    var data = [10, 20];
    var new_circle = svg.selectAll('circle')
            .data(data)
            .enter()
            .append('circle')
            .attr('cx', 250)
            .attr('cy', 100)
            .attr('fill', 'green')
            .attr('r', 25)
```
效果：
![](/image/d3/circle3.jpg)

代码改成如下：
```
 svg.append('circle')
                .attr('cx', 250)
                .attr('cy', 50)
                .attr('r', 25)
                .attr('fill', 'blue')
    svg.append('circle')
                .attr('cx', 250)
                .attr('cy', 150)
                .attr('r', 25)
                .attr('fill', 'green')
    svg.append('circle')
                .attr('cx', 250)
                .attr('cy', 250)
                .attr('r', 25)
                .attr('fill', 'orange')
```
效果如下：
![](/image/d3/circle4.jpg)
在上面代码上增加：
```
  var data = [10, 20, 30];
    svg.selectAll('circle')
                .data(data)
                .attr('cx', 250)
                .attr('cy', 350)
                .attr('r', 25)
                .attr('fill', 'yellowgreen')
```
效果如下：
![](/image/d3/circle5.jpg)